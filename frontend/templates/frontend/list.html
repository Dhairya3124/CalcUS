{% if latest_frontend %}
<div class="grid">
    {% for order in latest_frontend %}
		<article class="grid-item message">
			<div class="message-header {% if order.status == 1 %} has-background-warning {% elif order.status == 2 %} has-background-success {% elif order.status == 3 %} has-background-danger{% endif %}">
    				{% if order.ensemble %}
					{{ order.id }}: {{ order.ensemble.name }}
				{% else %}
					{{ order.id }}: {{ order.structure.parent_ensemble.name }}
				{% endif %}
				<p><a href="/calculationorder/{{ order.id }}"><i class="fas fa-sitemap"></i></a>
{% if order.status == 1 %} <i class="fas fa-spinner"></i> {% elif order.status == 2 %} 
<i class="fas fa-check"></i>{% elif order.status == 3 %} <i class="fas fa-times"></i>{% endif %}</p>
			</div>
    	{% if order.ensemble %}
    		<a href="/molecule/{{ order.ensemble.parent_molecule.id }}" >
	{% else %}
    		<a href="/molecule/{{ order.structure.parent_ensemble.parent_molecule.id }}" >
	{% endif %}

			<div class"message-body">
				<center>
					<strong>{{ order.step.name }}</strong> <br />
    					{% if order.ensemble %}
						{{ order.ensemble.structure_set.count }} Calculation(s): <br />
					{% else %}
						1 Calculation: <br />
					{% endif %}
					<table class="table">
						<tr>
							<td>Queued</td>
							<td>{{ order.get_queued }}</td>
							<td>Running</td>
							<td>{{ order.get_running }}</td>

						</tr>
						<tr>
							<td>Done</td>
							<td>{{ order.get_done }}</td>
							<td>Error</td>
							<td>{{ order.get_error }}</td>
						</tr>

					</table>
				</center>
			</div>
	</a>
		</article>
    {% endfor %}
</div>
<script>
	$('.grid').masonry({
	  itemSelector: '.grid-item',
	  fitWidth: true
	});
</script>
{% else %}
    <p>No calculation found</p>
{% endif %}

